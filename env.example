# ==============================================================================
# Paste Trader - Backend Environment Configuration Example
# ==============================================================================
# Usage: Copy this file to .env and fill in your actual values
#        cp env.example .env
#
# SECURITY WARNING: NEVER commit .env files with real credentials
# ==============================================================================

# ------------------------------------------------------------------------------
# DATABASE - PostgreSQL Configuration
# ------------------------------------------------------------------------------
# Primary database connection string
# Format: postgresql+asyncpg://user:password@host:port/database
DATABASE_URL=postgresql+asyncpg://paste_trader:your_secure_password@localhost:5432/paste_trader

# Test database (used by pytest)
TEST_DATABASE_URL=postgresql+asyncpg://paste_trader:your_secure_password@localhost:5432/paste_trader_test

# Connection pool settings
DATABASE_POOL_SIZE=20
DATABASE_POOL_OVERFLOW=10

# ------------------------------------------------------------------------------
# CACHE - Redis Configuration
# ------------------------------------------------------------------------------
# Redis connection URL for caching and real-time data
# Format: redis://[:password@]host:port[/database]
REDIS_URL=redis://localhost:6379/0

# Redis connection pool settings
REDIS_MAX_CONNECTIONS=50

# Cache TTL defaults (in seconds)
CACHE_TTL_MARKET_DATA=60
CACHE_TTL_WORKFLOW=600
CACHE_TTL_LLM_RESPONSE=3600

# ------------------------------------------------------------------------------
# LLM PROVIDERS - API Keys
# ------------------------------------------------------------------------------
# Anthropic Claude API
# Get your key at: https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key-here

# OpenAI API
# Get your key at: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key-here

# Z.AI GLM (Chinese LLM Provider)
# Get your token at: https://open.bigmodel.cn/
ZAI_GLM_TOKEN=your-glm-token-here
ZAI_GLM_ENDPOINT=https://open.bigmodel.cn/api/paas/v4

# Default LLM provider for different purposes
# Options: anthropic, openai, glm
LLM_DEFAULT_PROVIDER=anthropic
LLM_META_REASONING=anthropic
LLM_FAST_ANALYSIS=openai
LLM_BULK_PROCESSING=glm

# LLM Rate Limiting
LLM_REQUESTS_PER_MINUTE=50
LLM_TOKENS_PER_MINUTE=80000

# ------------------------------------------------------------------------------
# SECURITY - Authentication & Secrets
# ------------------------------------------------------------------------------
# Secret key for signing tokens (generate with: openssl rand -hex 32)
SECRET_KEY=generate-with-openssl-rand-hex-32

# JWT Configuration
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# CORS Settings (comma-separated origins)
ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# API Rate Limiting
API_RATE_LIMIT_PER_MINUTE=100

# ------------------------------------------------------------------------------
# SCHEDULER - APScheduler Configuration
# ------------------------------------------------------------------------------
# Default timezone for scheduled jobs
SCHEDULER_TIMEZONE=Asia/Seoul

# Enable/disable the scheduler
SCHEDULER_ENABLED=true

# Maximum concurrent jobs
SCHEDULER_MAX_WORKERS=10

# ------------------------------------------------------------------------------
# LOGGING - Application Logging
# ------------------------------------------------------------------------------
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log format: json, text
LOG_FORMAT=json

# Log file path (optional, leave empty for stdout only)
LOG_FILE_PATH=

# Enable request/response logging
LOG_REQUESTS=true

# ------------------------------------------------------------------------------
# APPLICATION - General Settings
# ------------------------------------------------------------------------------
# Environment: development, staging, production
ENVIRONMENT=development

# Debug mode (set to false in production)
DEBUG=true

# Application host and port
APP_HOST=0.0.0.0
APP_PORT=8000

# Uvicorn workers (for production)
UVICORN_WORKERS=1

# ------------------------------------------------------------------------------
# EXTERNAL SERVICES (Optional)
# ------------------------------------------------------------------------------
# Sentry DSN for error tracking (optional)
SENTRY_DSN=

# Analytics endpoint (optional)
ANALYTICS_ENDPOINT=
